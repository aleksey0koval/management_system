<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>Edit user</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" type="text/css" th:href="@{static/css/main.css}">
</head>
<body>




<#if page.getTotalPages() gt 7>
<#assign
totalPages = page.getTotalPages()
pageNumber = page.getNumber() + 1

head = (pageNumber > 4)?then([1, -1], [1, 2, 3])
tail = (pageNumber < totalPages - 3)?then([-1, totalPages], [totalPages - 2, totalPages - 1, totalPages])
bodyBefore = (pageNumber > 4 && pageNumber < totalPages - 1)?then([pageNumber - 2, pageNumber - 1], [])
bodyAfter = (pageNumber > 2 && pageNumber < totalPages - 3)?then([pageNumber + 1, pageNumber + 2], [])

body = head + bodyBefore + (pageNumber > 3 && pageNumber < totalPages - 2)?then([pageNumber], []) + bodyAfter + tail
>

<#--        1  -1  5 6 7 8 9  -1  15-->
<#else>
<#assign body = 1..page.getTotalPages()>
</#if>





    <div class="row">
        <div th:if="${responseEntity.page['totalPages'] > 1}">
            <div>
                Total Items: [[${responseEntity.page['totalPages']}]]
            </div>
            <div>
                <span th:each="i: ${#numbers.sequence(1, responseEntity.page['totalPages'])}">
                    <a th:href="@{'/residents/paginated/' + ${i} + '/10'}"
                       th:if="${responseEntity.page['currentPage'] != i}">[[${i}]]</a>
                    <span th:unless="${responseEntity.page['currentPage'] != i}">[[${i}]]</span>
                </span>
            </div>
            <div>
                <a th:href="@{'/residents/paginated/' + ${responseEntity.page['currentPage'] + 1} + '/10'}"
                   th:if="${responseEntity.page['currentPage'] < responseEntity.page['totalPages']}">
                    Next
                </a>
                <span th:unless="${responseEntity.page['currentPage'] < responseEntity.page['totalPages']}">Next</span>
            </div>
            <div>
                <a th:href="@{'/residents/paginated/' + ${responseEntity.page['totalPages']} + '/10'}"
                   th:if="${responseEntity.page['currentPage'] < responseEntity.page['totalPages']}">
                    Last
                </a>
                <span th:unless="${responseEntity.page['currentPage'] < responseEntity.page['totalPages']}">Last</span>
            </div>
        </div>
    </div>

Page<UserAccount> page = userAccountService.findAll(pageable);
    model.addAttribute("page", page);
    model.addAttribute("url", "/user");

    <div th:text="${}">
        Total users:

    </div>


<div class="mt-3" style="margin-left: 10%; color: #4682B4">
    <ul class="pagination pagination-sm">
        <li class="page-item disabled">
            <a class="page-link" href="#" tabindex="-1">Pages</a>
        </li>
        <#list body as p>

        <span th:each=""
        <#if (p - 1) == page.getNumber()>
        <li class="page-item active">
            <a class="page-link" href="#" tabindex="-1">${p}</a>
        </li>
        <#elseif p == -1>
        <li class="page-item disabled">
            <a class="page-link" href="#" tabindex="-1">...</a>
        </li>
        <#else>
        <li class="page-item">
            <a class="page-link" href="${url}?page=${p - 1}&size=${page.getSize()}" tabindex="-1">${p}</a>
        </li>
    </#if>
</#list>
</ul>

<ul class="pagination pagination-sm">
    <li class="page-item disabled">
        <a class="page-link" href="#" tabindex="-1">Elements on the page</a>
    </li>
    <#list [4, 6, 8] as c>
    <#if c == page.getSize()>
    <li class="page-item active">
        <a class="page-link" href="#" tabindex="-1">${c}</a>
    </li>
    <#else>
    <li class="page-item">
        <a class="page-link"th:href="${url}?page=${page.getNumber()}&size=${c}" tabindex="-1">${c}</a>
    </li>
</#if>
</#list>
</ul>
</div>

